import{b as D,s as z,m as h,d,o as r,e,t as s,i as p,F as x,l as y,_ as Y,n as H,r as g,k as C,p as M,c as L,g as A,h as I,q as K,x as N,y as U,z as j,A as B}from"./index-Nzy8-PlY.js";import{d as w}from"./dayjs.min-C439ESjd.js";const P={class:"flex flex-col px-4 mt-3.5 w-full"},q={class:"flex flex-col items-start self-center px-4 py-4 w-full rounded-lg border-4 border-solid border-zinc-800 max-w-[335px] text-zinc-800"},R={class:"flex gap-6 text-center whitespace-nowrap"},V={class:"my-auto text-2xl"},F={class:"text-3xl basis-auto"},E={class:"flex gap-3 px-2.5 py-1.5 mt-2 ml-3 text-lg tracking-normal leading-none bg-white rounded-lg border-4 border-solid border-zinc-900"},G={class:"basis-auto"},W={class:"overflow-x-auto w-full"},J={class:"flex gap-4 items-start mt-5 whitespace-nowrap"},O={class:"flex flex-col px-3 py-4 w-full bg-white rounded-none border-2 border-solid border-zinc-900 text-zinc-900"},Q={class:"text-sm tracking-wide"},X={class:"text-lg tracking-normal leading-none"},Z={class:"mt-1 text-xs tracking-wide"},ee={class:"text-xs tracking-wide"},te={__name:"UserStoreHome",setup(_){const u=D(),{UserSearchData:o}=z(u),i=h(()=>[...o.value.Keeps].sort((m,t)=>t.DateTime.seconds-m.DateTime.seconds));return(m,t)=>(r(),d("div",P,[e("div",q,[e("div",R,[e("div",V,s(p(o).Name),1),e("div",F,s(p(o).MonthDay.replace("-","月")+"日"),1)]),e("div",E,[t[0]||(t[0]=e("img",{loading:"lazy",src:"https://cdn.builder.io/api/v1/image/assets/1658e52805814928b66db3bf763c83c5/8ed27068e2b86736d3b2f1dbf63e952cbc1b693363b7f29857093d7b8572e8cb?apiKey=1658e52805814928b66db3bf763c83c5&",class:"object-contain shrink-0 w-6 aspect-square",alt:"Phone Icon"},null,-1)),t[1]||(t[1]=e("div",null,"電話:",-1)),e("div",G,s(p(o).Account),1)])]),t[3]||(t[3]=e("div",{class:"self-start mt-4 text-2xl leading-none text-center text-zinc-900",role:"heading","aria-level":"2"}," 您的庫存 ",-1)),e("div",W,[e("div",J,[(r(!0),d(x,null,y(i.value,(c,f)=>(r(),d("div",{key:c.id,class:"flex flex-col w-[150px] shrink-0",tabindex:"0",role:"article","aria-label":"Large Latte Stock"},[t[2]||(t[2]=e("div",{class:"flex overflow-hidden flex-col justify-center items-center px-4 py-10 w-full border-2 border-solid bg-zinc-100 border-zinc-900 rounded-t-lg"},[e("img",{loading:"lazy",src:"https://cdn.builder.io/api/v1/image/assets/1658e52805814928b66db3bf763c83c5/3f99a80673c020e4d1b4351e57d0eeb35b539a3ade9906fe51e6f0466dfa7d6b?apiKey=1658e52805814928b66db3bf763c83c5&",class:"object-contain w-6 aspect-square",alt:"Coffee Cup Icon"})],-1)),e("div",O,[e("div",Q,s(f+1),1),e("div",X,s(c.Item.Name),1),e("div",Z," 剩餘數量: "+s(c.Amount),1),e("div",ee,s(p(w)(c.DateTime.seconds*1e3).format("YYYY MM月DD日 HH:mm")),1)])]))),128))])])]))}},se={class:"flex flex-col overflow-y-auto min-h-[500px] max-h-[500px] items-center px-6 mt-5 w-full text-base tracking-wide rounded-md",role:"list","aria-label":"Transaction History"},oe={class:"flex gap-5 justify-between py-3 w-full bg-white border-b-2 border-solid border-b-zinc-900",role:"listitem"},ae={class:"flex gap-2.5"},ne={class:"flex flex-col"},le={class:"self-start text-zinc-900"},re={class:"mt-1 text-stone-500"},ie={class:"self-start text-zinc-900"},ce={__name:"UserStoreLogs",props:["userlogs"],setup(_){return(u,o)=>(r(),d("div",se,[(r(!0),d(x,null,y(_.userlogs,i=>(r(),d("div",oe,[e("div",ae,[o[0]||(o[0]=e("img",{loading:"lazy",src:"https://cdn.builder.io/api/v1/image/assets/1658e52805814928b66db3bf763c83c5/bc52c0ecbf45ac0162e7ce0956322c4d1472b0c8c12760836c29f7e52726f959?apiKey=1658e52805814928b66db3bf763c83c5&",class:"object-contain shrink-0 w-12 aspect-square fill-zinc-100",alt:"Latte Transaction Icon"},null,-1)),e("div",ne,[e("div",le,s(i.title),1),e("div",re,s(i.datetime),1)])]),e("div",ie," 編號"+s(i.index+1)+" "+s(i.desc),1)]))),256))]))}},de={class:"text-sm font-medium text-center text-black border-b border-gray-300 bg-white"},ue={class:"flex flex-wrap -mb-px"},me=["onClick"],be={key:0,class:"flex overflow-y-auto flex-col pb-10 mx-auto w-full bg-white",role:"main","aria-label":"Member Warehouse Section"},pe={__name:"UserStore",setup(_){const u=D(),{UserSearchData:o}=z(u),{GetUserSearchData:i}=u,m=H(),t=g(!1),c=g([]),f=[{id:0,title:"庫存",component:te},{id:1,title:"紀錄",component:ce}],b=g(0),k=()=>{for(const[n,a]of o.value.Keeps.entries()){c.value.push({index:n,title:`${a.Item.Name} +${a.Amount}`,datetime:w(a.DateTime.seconds*1e3).format("YYYY MM月DD日 HH:mm"),timestamp:a.DateTime.seconds,desc:"寄放"});let v=a.Pickup.map(l=>(o.value.Keeps[n].Amount-=l.Amount,{index:n,title:`${a.Item.Name} -${l.Amount}`,datetime:w(l.DateTime.seconds*1e3).format("YYYY MM月DD日 HH:mm"),timestamp:l.DateTime.seconds,desc:"領取"}));c.value.push(...v)}c.value.sort((n,a)=>a.timestamp-n.timestamp)},$=n=>{b.value=n},S=h(()=>f[b.value].component),T=h(()=>b.value==1?{userlogs:c.value}:{});return C(async()=>{await i(m.params.account),k()}),M(()=>m.params.account,async n=>{await i(n),k()}),(n,a)=>{const v=L("Loading");return r(),d(x,null,[A(v,{active:t.value,"is-full-page":!0,"can-cancel":!0,color:"oklch(0.21 0.006 285.885)","background-color":"rgb(255, 255, 255)",height:128,width:128,loader:"Bars"},null,8,["active"]),a[0]||(a[0]=e("div",{class:"min-h-[76px]"},null,-1)),e("div",de,[e("ul",ue,[(r(),d(x,null,y(f,l=>e("li",{key:l.id,class:"me-2"},[e("a",{href:"#",class:K({"inline-block p-4 text-black border-b-2 border-black rounded-t-lg activek":l.id==b.value,"inline-block p-4 border-b-2 border-transparent rounded-t-lg hover:text-black hover:border-gray-400":l.id!=b.value}),onClick:fe=>$(l.id)},s(l.title),11,me)])),64))])]),p(o)?(r(),d("div",be,[(r(),N(B(S.value),U(j(T.value)),null,16))])):I("",!0)],64)}}},ve=Y(pe,[["__scopeId","data-v-9221f07e"]]);export{ve as default};
