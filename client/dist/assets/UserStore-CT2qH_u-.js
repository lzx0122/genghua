import{b as D,s as z,d as i,o as r,e,t,i as m,F as f,l as h,_ as H,m as T,r as v,n as k,k as C,p as M,c as L,g as A,h as I,q as N,x as U,y as j,z as K,A as B}from"./index-Vo84ny4w.js";import{d as g}from"./dayjs.min-CJNak3QO.js";const P={class:"flex flex-col px-4 mt-3.5 w-full"},q={class:"flex flex-col items-start self-center px-4 py-4 w-full rounded-lg border-4 border-solid border-zinc-800 max-w-[335px] text-zinc-800"},R={class:"flex gap-6 text-center whitespace-nowrap"},V={class:"my-auto text-2xl"},F={class:"text-3xl basis-auto"},E={class:"flex gap-3 px-2.5 py-1.5 mt-2 ml-3 text-lg tracking-normal leading-none bg-white rounded-lg border-4 border-solid border-zinc-900"},G={class:"basis-auto"},W={class:"overflow-x-auto w-full"},J={class:"flex gap-4 items-start mt-5 whitespace-nowrap"},O={class:"flex flex-col px-3 py-4 w-full bg-white rounded-none border-2 border-solid border-zinc-900 text-zinc-900"},Q={class:"text-sm tracking-wide"},X={class:"text-lg tracking-normal leading-none"},Z={class:"mt-1 text-xs tracking-wide"},ee={class:"text-xs tracking-wide"},te={__name:"UserStoreHome",setup(x){const b=D(),{UserSearchData:s}=z(b);return(c,o)=>(r(),i("div",P,[e("div",q,[e("div",R,[e("div",V,t(m(s).Name),1),e("div",F,t(m(s).MonthDay.replace("-","月")+"日"),1)]),e("div",E,[o[0]||(o[0]=e("img",{loading:"lazy",src:"https://cdn.builder.io/api/v1/image/assets/1658e52805814928b66db3bf763c83c5/8ed27068e2b86736d3b2f1dbf63e952cbc1b693363b7f29857093d7b8572e8cb?apiKey=1658e52805814928b66db3bf763c83c5&",class:"object-contain shrink-0 w-6 aspect-square",alt:"Phone Icon"},null,-1)),o[1]||(o[1]=e("div",null,"電話:",-1)),e("div",G,t(m(s).Account),1)])]),o[3]||(o[3]=e("div",{class:"self-start mt-4 text-2xl leading-none text-center text-zinc-900",role:"heading","aria-level":"2"}," 您的庫存 ",-1)),e("div",W,[e("div",J,[(r(!0),i(f,null,h(m(s).Keeps,(d,u)=>(r(),i("div",{key:d.id,class:"flex flex-col w-[150px] shrink-0",tabindex:"0",role:"article","aria-label":"Large Latte Stock"},[o[2]||(o[2]=e("div",{class:"flex overflow-hidden flex-col justify-center items-center px-4 py-10 w-full border-2 border-solid bg-zinc-100 border-zinc-900 rounded-t-lg"},[e("img",{loading:"lazy",src:"https://cdn.builder.io/api/v1/image/assets/1658e52805814928b66db3bf763c83c5/3f99a80673c020e4d1b4351e57d0eeb35b539a3ade9906fe51e6f0466dfa7d6b?apiKey=1658e52805814928b66db3bf763c83c5&",class:"object-contain w-6 aspect-square",alt:"Coffee Cup Icon"})],-1)),e("div",O,[e("div",Q,t(u+1),1),e("div",X,t(d.Item.Name),1),e("div",Z," 剩餘數量: "+t(d.Amount),1),e("div",ee,t(m(g)(d.DateTime.seconds*1e3).format("YYYY MM月DD日 HH:mm")),1)])]))),128))])])]))}},se={class:"flex flex-col overflow-y-auto min-h-[500px] max-h-[500px] items-center px-6 mt-5 w-full text-base tracking-wide rounded-md",role:"list","aria-label":"Transaction History"},oe={class:"flex gap-5 justify-between py-3 w-full bg-white border-b-2 border-solid border-b-zinc-900",role:"listitem"},ae={class:"flex gap-2.5"},ne={class:"flex flex-col"},le={class:"self-start text-zinc-900"},re={class:"mt-1 text-stone-500"},ie={class:"self-start text-zinc-900"},ce={__name:"UserStoreLogs",props:["userlogs"],setup(x){return(b,s)=>(r(),i("div",se,[(r(!0),i(f,null,h(x.userlogs,c=>(r(),i("div",oe,[e("div",ae,[s[0]||(s[0]=e("img",{loading:"lazy",src:"https://cdn.builder.io/api/v1/image/assets/1658e52805814928b66db3bf763c83c5/bc52c0ecbf45ac0162e7ce0956322c4d1472b0c8c12760836c29f7e52726f959?apiKey=1658e52805814928b66db3bf763c83c5&",class:"object-contain shrink-0 w-12 aspect-square fill-zinc-100",alt:"Latte Transaction Icon"},null,-1)),e("div",ne,[e("div",le,t(c.title),1),e("div",re,t(c.datetime),1)])]),e("div",ie," 編號"+t(c.index+1)+" "+t(c.desc),1)]))),256))]))}},de={class:"text-sm font-medium text-center text-black border-b border-gray-300 bg-white"},ue={class:"flex flex-wrap -mb-px"},me=["onClick"],be={key:0,class:"flex overflow-y-auto flex-col pb-10 mx-auto w-full bg-white",role:"main","aria-label":"Member Warehouse Section"},pe={__name:"UserStore",setup(x){const b=D(),{UserSearchData:s}=z(b),{GetUserSearchData:c}=b,o=T(),d=v(!1),u=v([]),w=[{id:0,title:"庫存",component:te},{id:1,title:"紀錄",component:ce}],p=v(0),y=()=>{for(const[n,a]of s.value.Keeps.entries()){u.value.push({index:n,title:`${a.Item.Name} +${a.Amount}`,datetime:g(a.DateTime.seconds*1e3).format("YYYY MM月DD日 HH:mm"),timestamp:a.DateTime.seconds,desc:"寄放"});let _=a.Pickup.map(l=>(s.value.Keeps[n].Amount-=l.Amount,{index:n,title:`${a.Item.Name} -${l.Amount}`,datetime:g(l.DateTime.seconds*1e3).format("YYYY MM月DD日 HH:mm"),timestamp:l.DateTime.seconds,desc:"領取"}));u.value.push(..._)}u.value.sort((n,a)=>a.timestamp-n.timestamp)},$=n=>{p.value=n},S=k(()=>w[p.value].component),Y=k(()=>p.value==1?{userlogs:u.value}:{});return C(async()=>{await c(o.params.account),y()}),M(()=>o.params.account,async n=>{await c(n),y()}),(n,a)=>{const _=L("Loading");return r(),i(f,null,[A(_,{active:d.value,"is-full-page":!0,"can-cancel":!0,color:"oklch(0.21 0.006 285.885)","background-color":"rgb(255, 255, 255)",height:128,width:128,loader:"Bars"},null,8,["active"]),a[0]||(a[0]=e("div",{class:"min-h-[76px]"},null,-1)),e("div",de,[e("ul",ue,[(r(),i(f,null,h(w,l=>e("li",{key:l.id,class:"me-2"},[e("a",{href:"#",class:N({"inline-block p-4 text-black border-b-2 border-black rounded-t-lg activek":l.id==p.value,"inline-block p-4 border-b-2 border-transparent rounded-t-lg hover:text-black hover:border-gray-400":l.id!=p.value}),onClick:fe=>$(l.id)},t(l.title),11,me)])),64))])]),m(s)?(r(),i("div",be,[(r(),U(B(S.value),j(K(Y.value)),null,16))])):I("",!0)],64)}}},ve=H(pe,[["__scopeId","data-v-9221f07e"]]);export{ve as default};
