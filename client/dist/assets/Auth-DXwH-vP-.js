import{_ as m,u as x,i as h,j as v,s as b,r as d,k as w,c as y,o as B,d as s,w as i,v as p,F as _}from"./index-WBA3wnfX.js";const k={class:"overflow-y-auto flex flex-col items-center mb-[120px] mt-[110px]"},O={class:"flex flex-col max-w-[335px] px-7 mt-7 w-full text-lg leading-loose text-zinc-900"},U={__name:"Auth",setup(z){const l=x(),a=h(),n=v(),{User:c}=b(n),{fetchUser:C,login:f}=n,o=d(""),e=d("");w(()=>{c.value!=null&&a.push({path:"/User/Search"})});const g=async()=>{if(e.value.length>8||o.value.length!=10){l.error("密碼不可大於8 或 員編錯誤",{position:"top-center",timeout:5e3,closeOnClick:!0,pauseOnFocusLoss:!0,pauseOnHover:!0,draggable:!0,draggablePercent:.6,showCloseButtonOnHover:!1,hideProgressBar:!0,closeButton:"button",icon:!0,rtl:!1});return}e.value.length<8&&(e.value=e.value.padEnd(8,"0"));try{await f(o.value,e.value),a.push({path:"/User/Search"})}catch(u){l.error(u.message,{position:"top-center",timeout:5e3,closeOnClick:!0,pauseOnFocusLoss:!0,pauseOnHover:!0,draggable:!0,draggablePercent:.6,showCloseButtonOnHover:!1,hideProgressBar:!0,closeButton:"button",icon:!0,rtl:!1}),o.value="",e.value=""}};return(u,t)=>(B(),y(_,null,[s("div",k,[s("div",O,[t[2]||(t[2]=s("label",{for:"employeeId",class:"self-start"},"員編",-1)),i(s("input",{type:"text",id:"employeeId",name:"employeeId","onUpdate:modelValue":t[0]||(t[0]=r=>o.value=r),class:"flex shrink-0 gap-2.5 py-3 mt-2 h-12 bg-white rounded border-2 border-solid border-zinc-900",required:""},null,512),[[p,o.value]]),t[3]||(t[3]=s("label",{for:"password",class:"self-start mt-11"},"密碼",-1)),i(s("input",{type:"password",id:"password",name:"password","onUpdate:modelValue":t[1]||(t[1]=r=>e.value=r),class:"flex shrink-0 gap-2.5 py-3 mt-2 h-12 bg-white rounded border-2 border-solid border-zinc-900",required:""},null,512),[[p,e.value]])])]),s("div",{class:"h-[120px] fixed bottom-0 left-0 w-full flex flex-col justify-center px-5 pt-6 pb-12 -mt-11 w-full text-2xl leading-none text-center text-white whitespace-nowrap bg-white shadow-sm"},[s("button",{class:"overflow-hidden gap-2.5 self-stretch px-6 py-3 rounded-lg border-4 border-solid bg-zinc-900 border-zinc-900",onClick:g}," 登入 ")])],64))}},I=m(U,[["__scopeId","data-v-03f9caa5"]]);export{I as default};
