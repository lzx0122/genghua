import{_ as m,u as v,i as h,j as b,s as x,r as i,k as w,c as y,o as B,d as s,w as c,v as p,F as O}from"./index-BQuJVVCk.js";const k={class:"overflow-y-auto flex flex-col items-center mb-[120px] mt-[110px]"},_={class:"flex flex-col max-w-[335px] px-7 mt-7 w-full text-lg leading-loose text-zinc-900"},C={__name:"Auth",setup(H){const r=v(),a=h(),n=b(),{User:u}=x(n),{fetchUser:P,login:f}=n,o=i(""),e=i("");w(()=>{u.value!=null&&a.push({path:"/User/Search"})});const g=async()=>{if(e.value.length>8||o.value.length!=10){r.error("密碼不可大於8 或 員編錯誤",{position:"top-center",timeout:5e3,closeOnClick:!0,pauseOnFocusLoss:!0,pauseOnHover:!0,draggable:!0,draggablePercent:.6,showCloseButtonOnHover:!1,hideProgressBar:!0,closeButton:"button",icon:!0,rtl:!1});return}e.value.length<8&&(e.value=e.value.padEnd(8,"0"));try{await f(o.value,e.value),r.success(`${u.value.name} 您好！🫡`,{position:"top-center",timeout:5e3,closeOnClick:!0,pauseOnFocusLoss:!0,pauseOnHover:!0,draggable:!0,draggablePercent:.6,showCloseButtonOnHover:!1,hideProgressBar:!0,closeButton:"button",icon:!0,rtl:!1}),a.push({path:"/User/Search"})}catch(d){r.error(d.message,{position:"top-center",timeout:5e3,closeOnClick:!0,pauseOnFocusLoss:!0,pauseOnHover:!0,draggable:!0,draggablePercent:.6,showCloseButtonOnHover:!1,hideProgressBar:!0,closeButton:"button",icon:!0,rtl:!1}),o.value="",e.value=""}};return(d,t)=>(B(),y(O,null,[s("div",k,[s("div",_,[t[2]||(t[2]=s("label",{for:"employeeId",class:"self-start"},"員編",-1)),c(s("input",{type:"text",id:"employeeId",name:"employeeId","onUpdate:modelValue":t[0]||(t[0]=l=>o.value=l),class:"flex shrink-0 gap-2.5 py-3 mt-2 h-12 bg-white rounded border-2 border-solid border-zinc-900",required:""},null,512),[[p,o.value]]),t[3]||(t[3]=s("label",{for:"password",class:"self-start mt-11"},"密碼",-1)),c(s("input",{type:"password",id:"password",name:"password","onUpdate:modelValue":t[1]||(t[1]=l=>e.value=l),class:"flex shrink-0 gap-2.5 py-3 mt-2 h-12 bg-white rounded border-2 border-solid border-zinc-900",required:""},null,512),[[p,e.value]])])]),s("div",{class:"h-[120px] fixed bottom-0 left-0 w-full flex flex-col justify-center px-5 pt-6 pb-12 -mt-11 w-full text-2xl leading-none text-center text-white whitespace-nowrap bg-white shadow-sm"},[s("button",{class:"overflow-hidden gap-2.5 self-stretch px-6 py-3 rounded-lg border-4 border-solid bg-zinc-900 border-zinc-900",onClick:g}," 登入 ")])],64))}},z=m(C,[["__scopeId","data-v-fcc5a2d9"]]);export{z as default};
